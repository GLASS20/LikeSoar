plugins {
    id 'java'
    id 'org.jetbrains.kotlin.jvm'
}

group = 'like.soar'
version = '1.0-SNAPSHOT'

sourceCompatibility = targetCompatibility = 1.8
compileJava.options.encoding = "UTF-8"

compileKotlin {
    kotlinOptions {
        jvmTarget = "1.8"
    }
}

configurations {
    include
    implementation.extendsFrom(include)
}

repositories {
    mavenCentral()
}

dependencies {
    include 'org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.10'

    include fileTree(include: ["*.jar"], dir: "libs")
}

jar {
    manifest.attributes(
            "Main-Class": "net.minecraft.client.main.Main",
    )

    from {
        configurations.include.collect {
            it.isDirectory() ? it : zipTree(it)
        }
    }

    duplicatesStrategy DuplicatesStrategy.EXCLUDE

    exclude "LICENSE.txt"

    exclude "META-INF/maven/**"
    exclude "META-INF/versions/**"

    exclude "org/junit/**"

    exclude 'META-INF/*.RSA', 'META-INF/*.SF', 'META-INF/*.DSA'
}